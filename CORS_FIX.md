# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CORS –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç –±—ç–∫–µ–Ω–¥–∞ –∏–∑-–∑–∞ CORS –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ URL.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–ª—É—á—à–µ–Ω–Ω–∞—è CORS –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ë—ç–∫–µ–Ω–¥ —Ç–µ–ø–µ—Ä—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å **–ª—é–±—ã–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º**:
- ‚úÖ –†–∞–∑—Ä–µ—à–∞–µ—Ç –≤—Å–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ origin (–º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ OPTIONS –∑–∞–ø—Ä–æ—Å–æ–≤

### 2. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π API URL –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

**‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
```javascript
// –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GitHub!
fetch('https://github.com/Yerassyl-hub/FamOS/api/health')

// –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –±–µ–∑ /api
fetch('/health')
```

**‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```javascript
// –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
const API_URL = 'http://localhost:3000/api';

fetch(`${API_URL}/health`)
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –ø—Ä–æ–µ–∫—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:

**Next.js:**
```env
NEXT_PUBLIC_API_URL=http://localhost:3000/api
```

**Vite/React:**
```env
VITE_API_URL=http://localhost:3000/api
```

**Create React App:**
```env
REACT_APP_API_URL=http://localhost:3000/api
```

### 4. –ü—Ä–∏–º–µ—Ä API Client

```typescript
// lib/api/client.ts
const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000/api';

export const api = {
  health: () => fetch(`${API_URL}/health`).then(r => r.json()),
  whatsapp: {
    getStatus: () => fetch(`${API_URL}/whatsapp/status`).then(r => r.json()),
    generateQR: () => fetch(`${API_URL}/whatsapp/generate-qr`, { method: 'POST' }).then(r => r.json()),
    disconnect: () => fetch(`${API_URL}/whatsapp/disconnect`, { method: 'POST' }).then(r => r.json()),
  },
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
};
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞
curl http://localhost:3000/api/health
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞
–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```javascript
fetch('http://localhost:3000/api/health')
  .then(r => r.json())
  .then(console.log)
  .catch(console.error)
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ - CORS —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ

## –í—Å–µ endpoints –≥–æ—Ç–æ–≤—ã

- ‚úÖ `GET /api/health`
- ‚úÖ `GET /api/whatsapp/status`
- ‚úÖ `POST /api/whatsapp/generate-qr`
- ‚úÖ `POST /api/whatsapp/disconnect`
- ‚úÖ –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ endpoints

## –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π CORS
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL** - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `http://localhost:3000/api/...`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞** –Ω–∞ –æ—à–∏–±–∫–∏
4. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω** –Ω–∞ –ø–æ—Ä—Ç—É 3000
